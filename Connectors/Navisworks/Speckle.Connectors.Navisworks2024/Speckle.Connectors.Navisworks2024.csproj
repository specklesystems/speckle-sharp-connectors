<?xml version="1.0" encoding="utf-8"?>

<Project Sdk="Microsoft.NET.Sdk.WindowsDesktop">

    <PropertyGroup>
        <TargetFramework>net48</TargetFramework>
        <PlatformTarget>x64</PlatformTarget>
        <RuntimeIdentifier>win-x64</RuntimeIdentifier>
        <FileAlignment>512</FileAlignment>
        <Deterministic>true</Deterministic>

        <NavisworksBuildNumber>v21</NavisworksBuildNumber>
        <NavisworksVersion>2024</NavisworksVersion>

        <UseWpf>true</UseWpf>
        <DefineConstants>$(DefineConstants);NAVIS2024</DefineConstants>
  
        <Description>NextGen Speckle Connector for Autodesk Navisworks Manage</Description>
        <Authors>$(Authors) jonathon@speckle.systems</Authors>
        <PackageTags>$(PackageTags) connector nwd nwc nwf navisworks manage</PackageTags>

        <PluginBundleTarget>$(AppData)\Autodesk\ApplicationPlugins\Speckle.Connector.Navisworks.bundle</PluginBundleTarget>
        <PluginVersionContentTarget>$(AppData)\Autodesk\ApplicationPlugins\Speckle.Connector.Navisworks.bundle\Contents\$(NavisworksBuildNumber)</PluginVersionContentTarget>
        <RootNamespace>Speckle.Connector.Navisworks2024</RootNamespace>

    </PropertyGroup>

    <ItemGroup>
      <PackageReference Include="Speckle.Objects" />
    </ItemGroup>
  
    <ItemGroup>
      <ProjectReference Include="..\..\..\..\DUI3\Speckle.Connectors.DUI.WebView\Speckle.Connectors.DUI.WebView.csproj" />
      <ProjectReference Include="..\..\..\..\Sdk\Speckle.Converters.Common\Speckle.Converters.Common.csproj" />
    </ItemGroup>

    <ItemGroup>
      <Reference Include="WindowsFormsIntegration" />
    </ItemGroup>

  <!-- Configurations -->
  <PropertyGroup Condition=" '$(Configuration)' == 'Debug' ">
    <OutputPath>bin\x64\Debug\</OutputPath>
    <DefineConstants>TRACE;NAVIS2024;</DefineConstants>
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  
  <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <OutputPath>bin\x64\Release\</OutputPath>
    <DefineConstants>TRACE;NAVIS2024;</DefineConstants>
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>

  <!-- Includes -->
  <Import Project="..\Speckle.Connectors.NavisworksShared\Speckle.Connectors.NavisworksShared.projitems" Label="Shared"/>

  <!-- NUGETS -->
  <ItemGroup>
    <PackageReference Include="Speckle.Navisworks.API" VersionOverride="2024.0.0" />
  </ItemGroup>

</Project>
